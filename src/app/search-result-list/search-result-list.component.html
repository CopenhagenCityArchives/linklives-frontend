<section class="lls-results-header">
    <div class="container-fluid">
        <form (ngSubmit)="search()" class="lls-row">
            <div class="lls-columns-12 lls-columns-8--sm lls-columns-6--md">
                <div class="lls-row">
                    <div class="input-group lls-columns-12 lls-columns-6--md lls-columns-4--lg">
                        <label for="query">Fritekst</label>
                        <input
                            [(ngModel)]="searchParams.query"
                            type="text"
                            placeholder="Søg i livsforløb eller kilder"
                            class="lls-input-field "
                            id="query"
                            name="query"
                        />
                    </div>
                    <div class="input-group lls-columns-12 lls-columns-6--md lls-columns-4--lg">
                        <label for="query">Fornavn</label>
                        <input
                            [(ngModel)]="searchParams.query"
                            type="text"
                            placeholder="Søg i livsforløb eller kilder"
                            class="lls-input-field "
                            id="query"
                            name="query"
                        />
                    </div>
                </div>
                
            </div>
            <div class="lls-columns-12 lls-columns-2--sm lls-columns-3--md">
                <p>Resultattype</p>
                <div class="lls-results-header__checkboxes">
                    <div class="lls-results-header__checkbox-container">
                        <input
                            [(ngModel)]="indexSource"
                            type="checkbox"
                            class="lls-results-header__checkbox"
                            id="indexSource-checkbox"
                            name="indexSource"
                        >
                        <label for="indexSource-checkbox">Kilder</label>
                    </div>
                    <div class="lls-results-header__checkbox-container">
                        <input
                            [(ngModel)]="indexLifecourse"
                            type="checkbox"
                            class="lls-results-header__checkbox"
                            id="indexLifecourse-checkbox"
                            name="indexLifecourse"
                        >
                        <label for="indexLifecourse-checkbox">Livsforløb</label>
                    </div>
                </div>
            </div>
            <div class="lls-results-header__right-section lls-columns-12 lls-columns-2--sm lls-columns-3--md">
                <p>
                    <a routerLink="/user/search-history" class="lls-results-header__history-link">
                        Min søgehistorik
                        <svg class="lls-icon lls-icon--right">
                            <use [attr.href]="featherSpriteUrl + '#folder'"></use>
                        </svg>
                    </a>
                </p>
                <button
                    type="submit"
                    class="lls-btn lls-btn--blue"
                >
                    <span>Søg</span>
                    <svg class="lls-icon lls-icon--right">
                        <use [attr.href]="featherSpriteUrl + '#search'"></use>
                    </svg>
                </button>
            </div>
        </form>
    </div>
</section>
<div class="lls-container">
    <div>
        <div>
            <div class="p-2 u-text-right" [innerHTML]="resultRangeDescription"></div>

            <ng-container *ngFor="let hit of searchResult.hits" [ngSwitch]="hit.type">
                <app-person-appearance-item *ngSwitchCase="'pas'" class="mx-2" [item]="hit.pa"></app-person-appearance-item>
                <app-life-course-item *ngSwitchCase="'lifecourses'" class="mx-2" [item]="hit.pas" [lifecourse-id]="hit.life_course_id"></app-life-course-item>
            </ng-container>

            <nav>
                <div class="lls-pagination">
                    <a class="lls-pagination__item" [ngClass]="{ 'lls-pagination__item--disabled': pagination.current === 1}" [tabindex]=" pagination.current === 1 ? -1 : 0" [routerLink]="['./', { 'size': pagination.size, 'page': pagination.current - 1 } ]" [queryParams]="queryParams">
                        <svg class="lls-icon">
                            <use [attr.href]="featherSpriteUrl + '#arrow-left'"></use>
                        </svg>
                    </a>

                    <ng-container *ngIf="pagination.firstInOrder > 1">
                        <a class="lls-pagination__item" [routerLink]="['./', { 'size': pagination.size, 'page': 1 } ]" [queryParams]="queryParams">
                            <span class="lls-pagination__item-text">1</span>
                        </a>

                        <div class="lls-pagination__entry" *ngIf="pagination.firstInOrder > 2">&mdash;</div>
                    </ng-container>
                    
                    <a class="lls-pagination__item" *ngFor="let page of pagination.navigationPages" [ngClass]="{ 'lls-pagination__item--selected': pagination.current === page }" [routerLink]="['./', { 'size': pagination.size, 'page': page } ]" [queryParams]="queryParams">
                        <span class="lls-pagination__item-text">{{ page }}</span>
                    </a>

                    <ng-container *ngIf="pagination.lastInOrder < pagination.last">
                        <div class="lls-pagination__entry" *ngIf="pagination.lastInOrder < pagination.last - 1">&mdash;</div>

                        <a class="lls-pagination__item" [routerLink]="['./', { 'size': pagination.size, 'page': pagination.last } ]" [queryParams]="queryParams">
                            <span class="lls-pagination__item-text">{{ pagination.last }}</span>
                        </a>
                    </ng-container>

                    <a class="lls-pagination__item" [ngClass]="{ 'lls-pagination__item--disabled': pagination.current >= pagination.last }" [tabindex]="pagination.current >= pagination.last ? -1 : 0"  [routerLink]="['./', { 'size': pagination.size, 'page': pagination.current + 1 } ]" [queryParams]="queryParams">
                        <svg class="lls-icon">
                            <use [attr.href]="featherSpriteUrl + '#arrow-right'"></use>
                        </svg>
                    </a>
                </div>
            </nav>
        </div>
    </div>
</div>
