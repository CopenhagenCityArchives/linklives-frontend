<div *ngIf="auth.user$ | async as user" class="lls-container u-mt-5">
  
  <div class="u-flex u-space-between">
    <div>
      <h2 class="u-font-handwriting lls-data-page-header__source-type u-margin-0">
        Min side
      </h2>
      <h1 class="lls-data-page-header__title">
        <ng-container *ngIf="user.firstname; else nicknameBlock">
          {{ user.firstname }} {{ user.lastname }}
        </ng-container>
        <ng-template #nicknameBlock>
          {{ user.nickname }}
        </ng-template>
      </h1>
      <p class="lls-data-page-header__data-summary">
        <span>Du har bedømt X links og tilføjet X nye links</span>
      </p>
    </div>
    <div>
      <button (click)="logout()" type="submit" class="lls-btn lls-btn--medium">
        <span>Log ud</span>
        <svg class="lls-icon lls-icon--right">
          <use [attr.href]="featherSpriteUrl + '#lock'"></use>
        </svg>
      </button>
    </div>
  </div>

  <div class="lls-card u-flex u-space-between">
    <div class="lls-row">
      <div *ngIf="!user.picture" class="lls-profile-picture lls-columns-2 lls-gap">
        JP
      </div>
      <div *ngIf="user.picture">
        <img [src]="user.picture" class="lls-profile-picture" alt="">
      </div>
      <div class="lls-columns-10 u-ml-8">
        <h3 class="lls-card__title">
          Mine oplysninger
        </h3>
        <table class="lls-user-information">
          <tr>
            <td class="u-semi-bold">Brugernavn</td>
            <td>
              {{ user.nickname }}</td>
          </tr>
          <tr>
            <td class="u-semi-bold">Email</td>
            <td>{{ user.email }}</td>
          </tr>
        </table>
      </div>
    </div>
    <div>
      <button
        (click)="editProfile()"
        type="submit"
        disabled
        class="lls-btn lls-btn--disabled"
      >
        <span>Rediger</span>
        <svg class="lls-icon lls-icon--right">
          <use [attr.href]="featherSpriteUrl + '#edit-2'"></use>
        </svg>
      </button>
    </div>
  </div>

  <!-- Livsforløb -->

  <div class="lls-sidebar__header" style="margin-bottom: 0px;">
    <h3>Livsforløb</h3>
  </div>
  <p>
    Livsforløb du har bedømt
  </p>

  <div>
    <ng-container *ngFor="let lifecourse of ratedLifecourses">
        <app-life-course-item class="lls-columns-12" [item]="lifecourse.personAppearances" [lifecourse-key]="lifecourse.key"></app-life-course-item>
    </ng-container>
    <div *ngIf="!ratedLifecourses.length" class="lls-columns-12 u-text-center">
        <p>
            Du har ikke bedømt nogle links.
        </p>
    </div>
  </div>
</div>
