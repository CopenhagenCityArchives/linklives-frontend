<div class="container-fluid">
    <div class="row justify-content-center my-4">
        <div class="col-md-auto">
            <span>
                <strong>SÃ¸gning:</strong> {{ query }}
                <a routerLink="/search/simple" [queryParams]="{query: this.query}" class="ml-2">RedigÃ©r sÃ¸gning</a>
            </span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 m-2">
            <div class="row border p-2">
                {{ searchResult.hits.total.value }} resultater
            </div>
        </div>

        <div class="col-md container-fluid m-2 ml-0">
            <div class="row mb-2">
                <nav class="nav nav-pills nav-fill col-12">
                    <a class="nav-item nav-link" routerLink="./" routerLinkActive="active" [queryParams]="{query: this.query, start: start, index: 'pas,lifecourses'}">Alle</a>
                    <a class="nav-item nav-link" routerLink="./" routerLinkActive="active" [queryParams]="{query: this.query, start: start, index: 'lifecourses'}">LivsforlÃ¸b</a>
                    <a class="nav-item nav-link" routerLink="./" routerLinkActive="active" [queryParams]="{query: this.query, start: start, index: 'pas'}">Indtastede kilder</a>
                </nav>
            </div>

            <div class="row">
                <nav class="col-md-12">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" [ngClass]="{ disabled: page === 1}">
                            <a class="page-link" [tabindex]="page === 1 ? -1 : 0" routerLink="./" [queryParams]="{query: query, start: start - size, index: index}">Forrige</a>
                        </li>
                        
                        <li *ngFor="let pageItem of pages" class="page-item" [ngClass]="{ disabled: page === pageItem.page }">
                            <a class="page-link" routerLink="./" [queryParams]="{query: this.query, start: pageItem.start, index: this.index}">{{ pageItem.page }}</a>
                        </li>

                        <li class="page-item" [ngClass]="{ disabled: page * size >= searchResult.hits.total.value}">
                            <a class="page-link" [tabindex]="page * size >= searchResult.hits.total.value ? -1 : 0" routerLink="./" [queryParams]="{query: query, start: start + size, index: index}">NÃ¦ste</a>
                        </li>
                      </ul>
                </nav>
            </div>

            <div *ngFor="let hit of searchResult.hits.hits" class="row border p-2 mb-2">
                <ng-container [ngSwitch]="hit._index">
                    <ng-container *ngSwitchCase="'pas'">
                        <div class="col-md-4">
                            <span>ðŸ•®</span>
                        </div>
                        <div class="col-md-4">
                            <div>
                                {{ hit._source.personal_appearance.name}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance.parish">
                                <strong>Sogn:</strong> {{ hit._source.personal_appearance.parish}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance.district">
                                <strong>Herred:</strong> {{ hit._source.personal_appearance.district}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance.county">
                                <strong>Amt:</strong> {{ hit._source.personal_appearance.county}}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <button routerLink="pa" class="btn btn-info" style="position: absolute; bottom: 0; right: 0;">VÃ¦lg kilde</button>
                        </div>
                    </ng-container>
                    <ng-container *ngSwitchCase="'lifecourses'">
                        <div class="col-md-4">
                            ðŸ”— {{ hit._source.personal_appearance.length }} kilder
                        </div>
                        <div class="col-md-4">
                            <div class="text-capitalize">
                                {{ hit._source.personal_appearance[0].name_std}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance[0].parish_std">
                                <strong>Sogn:</strong> {{ hit._source.personal_appearance[0].parish_std}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance[0].district_std">
                                <strong>Herred:</strong> {{ hit._source.personal_appearance[0].district_std}}
                            </div>
                            <div class="text-capitalize" *ngIf="hit._source.personal_appearance[0].county_std">
                                <strong>Amt:</strong> {{ hit._source.personal_appearance[0].county_std}}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <button routerLink="lifecourse" class="btn btn-info" style="position: absolute; bottom: 0; right: 0;">VÃ¦lg livsforlÃ¸b</button>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>
    </div>
</div>